<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Brewery Map — U.S. & Canada</title>
  <meta name="description" content="Fast interactive map of breweries across the United States and Canada. Built with Leaflet and client side CSV loading." />
 <link
  rel="icon"
  type="image/svg+xml"
  href='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><rect x="36" y="22" width="56" height="90" rx="12" fill="%23ffd166" stroke="%23222" stroke-width="4"/><rect x="32" y="12" width="64" height="24" rx="12" fill="%23fff"/><circle cx="44" cy="22" r="6" fill="%23fff"/><circle cx="60" cy="18" r="8" fill="%23fff"/><circle cx="78" cy="22" r="7" fill="%23fff"/><circle cx="92" cy="18" r="5" fill="%23fff"/></svg>' />
 

  <!-- Social (optional placeholder) -->
  <meta property="og:title" content="Brewery Map — U.S. & Canada" />
  <meta property="og:description" content="Fast interactive map of breweries across the United States and Canada." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://piersondarren.github.io/brewmap/" />
  <meta property="og:image" content="https://piersondarren.github.io/brewmap/social.png" />

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
  <link rel="stylesheet" href="./styles.css" />

  <!-- Analytics hook (optional, add your snippet later) -->
  <!-- Google Analytics or Plausible can be inserted here -->
</head>
<body>
  <header class="topbar">
    <div class="brand">Brewery Map</div>
    <div class="controls">
      <label>
        Type
        <select id="filter-type">
          <option value="">All types</option>
        </select>
      </label>
      <label>
        Country
        <select id="filter-country">
          <option value="">United States + Canada</option>
          <option value="United States">United States</option>
          <option value="Canada">Canada</option>
        </select>
      </label>
      <label>
        State / Province
        <select id="filter-region">
          <option value="">All</option>
        </select>
      </label>
      <label class="search-label">
        Search
        <input id="search-box" type="search" placeholder="Name, city, or postal…" />
      </label>
      <button id="reset-btn" class="reset">Reset</button>
      <span id="result-count" class="count">0</span>
    </div>
  </header>

  <main id="map"></main>

  <footer class="footer">
    <p>
      Built by
      <a href="https://github.com/piersondarren/brewmap" target="_blank" rel="noopener">Darren Pierson</a>.
      Data from internal CSV export.
      <a href="https://github.com/piersondarren/brewmap" target="_blank" rel="noopener">View repo</a>.
      <span id="data-version" class="badge" title="Shows the last commit to data/na_breweries_combined.csv">Data updated: checking…</span>
    </p>
  </footer>


    <!-- Libraries -->
  <!-- Leaflet JS (primary) -->
  <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.js"></script>
  <!-- Fallback if primary fails -->
  <script>
    if (!window.L) {
      document.write('<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"><\/script>');
    }
  </script>

  <!-- MarkerCluster -->
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>

  <!-- Papa Parse -->
  <script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script>

  <!-- App -->
  <script src="./app.js"></script>
</body>
</html>

